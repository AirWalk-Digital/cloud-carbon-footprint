"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib=require("tslib"),coreClient=require("@azure/core-client"),coreRestPipeline=require("@azure/core-rest-pipeline");function _interopNamespace(a){var i;return a&&a.__esModule?a:(i=Object.create(null),a&&Object.keys(a).forEach(function(e){var t;"default"!==e&&(t=Object.getOwnPropertyDescriptor(a,e),Object.defineProperty(i,e,t.get?t:{enumerable:!0,get:function(){return a[e]}}))}),i.default=a,Object.freeze(i))}var coreClient__namespace=_interopNamespace(coreClient),coreRestPipeline__namespace=_interopNamespace(coreRestPipeline);const pageMap=new WeakMap;function getContinuationToken(e){return"object"!=typeof e||null===e||null==(e=pageMap.get(e))?void 0:e.continuationToken}function setContinuationToken(e,t){var a;"object"==typeof e&&null!==e&&t&&((a=null!=(a=pageMap.get(e))?a:{}).continuationToken=t,pageMap.set(e,a))}exports.KnownRegionType=void 0,function(e){e.Physical="Physical",e.Logical="Logical"}(exports.KnownRegionType||(exports.KnownRegionType={})),exports.KnownRegionCategory=void 0,function(e){e.Recommended="Recommended",e.Extended="Extended",e.Other="Other"}(exports.KnownRegionCategory||(exports.KnownRegionCategory={})),exports.KnownResourceNameStatus=void 0,function(e){e.Allowed="Allowed",e.Reserved="Reserved"}(exports.KnownResourceNameStatus||(exports.KnownResourceNameStatus={}));const LocationListResult={type:{name:"Composite",className:"LocationListResult",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"Location"}}}}}}},Location={type:{name:"Composite",className:"Location",modelProperties:{id:{serializedName:"id",readOnly:!0,type:{name:"String"}},subscriptionId:{serializedName:"subscriptionId",readOnly:!0,type:{name:"String"}},name:{serializedName:"name",readOnly:!0,type:{name:"String"}},type:{serializedName:"type",readOnly:!0,type:{name:"Enum",allowedValues:["Region","EdgeZone"]}},displayName:{serializedName:"displayName",readOnly:!0,type:{name:"String"}},regionalDisplayName:{serializedName:"regionalDisplayName",readOnly:!0,type:{name:"String"}},metadata:{serializedName:"metadata",type:{name:"Composite",className:"LocationMetadata"}}}}},LocationMetadata={type:{name:"Composite",className:"LocationMetadata",modelProperties:{regionType:{serializedName:"regionType",readOnly:!0,type:{name:"String"}},regionCategory:{serializedName:"regionCategory",readOnly:!0,type:{name:"String"}},geographyGroup:{serializedName:"geographyGroup",readOnly:!0,type:{name:"String"}},longitude:{serializedName:"longitude",readOnly:!0,type:{name:"String"}},latitude:{serializedName:"latitude",readOnly:!0,type:{name:"String"}},physicalLocation:{serializedName:"physicalLocation",readOnly:!0,type:{name:"String"}},pairedRegion:{serializedName:"pairedRegion",type:{name:"Sequence",element:{type:{name:"Composite",className:"PairedRegion"}}}},homeLocation:{serializedName:"homeLocation",readOnly:!0,type:{name:"String"}}}}},PairedRegion={type:{name:"Composite",className:"PairedRegion",modelProperties:{name:{serializedName:"name",readOnly:!0,type:{name:"String"}},id:{serializedName:"id",readOnly:!0,type:{name:"String"}},subscriptionId:{serializedName:"subscriptionId",readOnly:!0,type:{name:"String"}}}}},CloudError={type:{name:"Composite",className:"CloudError",modelProperties:{error:{serializedName:"error",type:{name:"Composite",className:"ErrorResponse"}}}}},ErrorResponse={type:{name:"Composite",className:"ErrorResponse",modelProperties:{code:{serializedName:"code",readOnly:!0,type:{name:"String"}},message:{serializedName:"message",readOnly:!0,type:{name:"String"}},target:{serializedName:"target",readOnly:!0,type:{name:"String"}},details:{serializedName:"details",readOnly:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"ErrorResponse"}}}},additionalInfo:{serializedName:"additionalInfo",readOnly:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"ErrorAdditionalInfo"}}}}}}},ErrorAdditionalInfo={type:{name:"Composite",className:"ErrorAdditionalInfo",modelProperties:{type:{serializedName:"type",readOnly:!0,type:{name:"String"}},info:{serializedName:"info",readOnly:!0,type:{name:"Dictionary",value:{type:{name:"any"}}}}}}},Subscription={type:{name:"Composite",className:"Subscription",modelProperties:{id:{serializedName:"id",readOnly:!0,type:{name:"String"}},subscriptionId:{serializedName:"subscriptionId",readOnly:!0,type:{name:"String"}},displayName:{serializedName:"displayName",readOnly:!0,type:{name:"String"}},tenantId:{serializedName:"tenantId",readOnly:!0,type:{name:"String"}},state:{serializedName:"state",readOnly:!0,type:{name:"Enum",allowedValues:["Enabled","Warned","PastDue","Disabled","Deleted"]}},subscriptionPolicies:{serializedName:"subscriptionPolicies",type:{name:"Composite",className:"SubscriptionPolicies"}},authorizationSource:{serializedName:"authorizationSource",type:{name:"String"}},managedByTenants:{serializedName:"managedByTenants",type:{name:"Sequence",element:{type:{name:"Composite",className:"ManagedByTenant"}}}},tags:{serializedName:"tags",type:{name:"Dictionary",value:{type:{name:"String"}}}}}}},SubscriptionPolicies={type:{name:"Composite",className:"SubscriptionPolicies",modelProperties:{locationPlacementId:{serializedName:"locationPlacementId",readOnly:!0,type:{name:"String"}},quotaId:{serializedName:"quotaId",readOnly:!0,type:{name:"String"}},spendingLimit:{serializedName:"spendingLimit",readOnly:!0,type:{name:"Enum",allowedValues:["On","Off","CurrentPeriodOff"]}}}}},ManagedByTenant={type:{name:"Composite",className:"ManagedByTenant",modelProperties:{tenantId:{serializedName:"tenantId",readOnly:!0,type:{name:"String"}}}}},SubscriptionListResult={type:{name:"Composite",className:"SubscriptionListResult",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"Subscription"}}}},nextLink:{serializedName:"nextLink",required:!0,type:{name:"String"}}}}},TenantListResult={type:{name:"Composite",className:"TenantListResult",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"TenantIdDescription"}}}},nextLink:{serializedName:"nextLink",required:!0,type:{name:"String"}}}}},TenantIdDescription={type:{name:"Composite",className:"TenantIdDescription",modelProperties:{id:{serializedName:"id",readOnly:!0,type:{name:"String"}},tenantId:{serializedName:"tenantId",readOnly:!0,type:{name:"String"}},tenantCategory:{serializedName:"tenantCategory",readOnly:!0,type:{name:"Enum",allowedValues:["Home","ProjectedBy","ManagedBy"]}},country:{serializedName:"country",readOnly:!0,type:{name:"String"}},countryCode:{serializedName:"countryCode",readOnly:!0,type:{name:"String"}},displayName:{serializedName:"displayName",readOnly:!0,type:{name:"String"}},domains:{serializedName:"domains",readOnly:!0,type:{name:"Sequence",element:{type:{name:"String"}}}},defaultDomain:{serializedName:"defaultDomain",readOnly:!0,type:{name:"String"}},tenantType:{serializedName:"tenantType",readOnly:!0,type:{name:"String"}},tenantBrandingLogoUrl:{serializedName:"tenantBrandingLogoUrl",readOnly:!0,type:{name:"String"}}}}},ResourceName={type:{name:"Composite",className:"ResourceName",modelProperties:{name:{serializedName:"name",required:!0,type:{name:"String"}},type:{serializedName:"type",required:!0,type:{name:"String"}}}}},CheckResourceNameResult={type:{name:"Composite",className:"CheckResourceNameResult",modelProperties:{name:{serializedName:"name",type:{name:"String"}},type:{serializedName:"type",type:{name:"String"}},status:{serializedName:"status",type:{name:"String"}}}}},Operation={type:{name:"Composite",className:"Operation",modelProperties:{name:{serializedName:"name",type:{name:"String"}},display:{serializedName:"display",type:{name:"Composite",className:"OperationDisplay"}}}}},OperationDisplay={type:{name:"Composite",className:"OperationDisplay",modelProperties:{provider:{serializedName:"provider",type:{name:"String"}},resource:{serializedName:"resource",type:{name:"String"}},operation:{serializedName:"operation",type:{name:"String"}},description:{serializedName:"description",type:{name:"String"}}}}},OperationListResult={type:{name:"Composite",className:"OperationListResult",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"Operation"}}}},nextLink:{serializedName:"nextLink",type:{name:"String"}}}}};var Mappers=Object.freeze({__proto__:null,LocationListResult:LocationListResult,Location:Location,LocationMetadata:LocationMetadata,PairedRegion:PairedRegion,CloudError:CloudError,ErrorResponse:ErrorResponse,ErrorAdditionalInfo:ErrorAdditionalInfo,Subscription:Subscription,SubscriptionPolicies:SubscriptionPolicies,ManagedByTenant:ManagedByTenant,SubscriptionListResult:SubscriptionListResult,TenantListResult:TenantListResult,TenantIdDescription:TenantIdDescription,ResourceName:ResourceName,CheckResourceNameResult:CheckResourceNameResult,Operation:Operation,OperationDisplay:OperationDisplay,OperationListResult:OperationListResult});const accept={parameterPath:"accept",mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Accept",type:{name:"String"}}},$host={parameterPath:"$host",mapper:{serializedName:"$host",required:!0,type:{name:"String"}},skipEncoding:!0},subscriptionId={parameterPath:"subscriptionId",mapper:{serializedName:"subscriptionId",required:!0,type:{name:"String"}}},apiVersion={parameterPath:"apiVersion",mapper:{defaultValue:"2021-01-01",isConstant:!0,serializedName:"api-version",type:{name:"String"}}},includeExtendedLocations={parameterPath:["options","includeExtendedLocations"],mapper:{serializedName:"includeExtendedLocations",type:{name:"Boolean"}}},nextLink={parameterPath:"nextLink",mapper:{serializedName:"nextLink",required:!0,type:{name:"String"}},skipEncoding:!0},contentType={parameterPath:["options","contentType"],mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Content-Type",type:{name:"String"}}},resourceNameDefinition={parameterPath:["options","resourceNameDefinition"],mapper:ResourceName};class SubscriptionsImpl{constructor(e){this.client=e}listLocations(t,a){const e=this.listLocationsPagingAll(t,a);return{next(){return e.next()},[Symbol.asyncIterator](){return this},byPage:e=>{if(null!=e&&e.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return this.listLocationsPagingPage(t,a,e)}}}listLocationsPagingPage(t,a,e){return tslib.__asyncGenerator(this,arguments,function*(){var e=yield tslib.__await(this._listLocations(t,a));yield yield tslib.__await(e.value||[])})}listLocationsPagingAll(r,s){return tslib.__asyncGenerator(this,arguments,function*(){var t,e;try{for(var a,i=tslib.__asyncValues(this.listLocationsPagingPage(r,s));!(a=yield tslib.__await(i.next())).done;){var n=a.value;yield tslib.__await(yield*tslib.__asyncDelegator(tslib.__asyncValues(n)))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=i.return)&&(yield tslib.__await(e.call(i)))}finally{if(t)throw t.error}}})}list(t){const e=this.listPagingAll(t);return{next(){return e.next()},[Symbol.asyncIterator](){return this},byPage:e=>{if(null!=e&&e.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return this.listPagingPage(t,e)}}}listPagingPage(n,r){return tslib.__asyncGenerator(this,arguments,function*(){let e,t=null==r?void 0:r.continuationToken;var a;for(t||(setContinuationToken(a=(e=yield tslib.__await(this._list(n))).value||[],t=e.nextLink),yield yield tslib.__await(a));t;){e=yield tslib.__await(this._listNext(t,n)),t=e.nextLink;var i=e.value||[];setContinuationToken(i,t),yield yield tslib.__await(i)}})}listPagingAll(r){return tslib.__asyncGenerator(this,arguments,function*(){var t,e;try{for(var a,i=tslib.__asyncValues(this.listPagingPage(r));!(a=yield tslib.__await(i.next())).done;){var n=a.value;yield tslib.__await(yield*tslib.__asyncDelegator(tslib.__asyncValues(n)))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=i.return)&&(yield tslib.__await(e.call(i)))}finally{if(t)throw t.error}}})}_listLocations(e,t){return this.client.sendOperationRequest({subscriptionId:e,options:t},listLocationsOperationSpec)}get(e,t){return this.client.sendOperationRequest({subscriptionId:e,options:t},getOperationSpec)}_list(e){return this.client.sendOperationRequest({options:e},listOperationSpec$1)}_listNext(e,t){return this.client.sendOperationRequest({nextLink:e,options:t},listNextOperationSpec$1)}}const serializer$2=coreClient__namespace.createSerializer(Mappers,!1),listLocationsOperationSpec={path:"/subscriptions/{subscriptionId}/locations",httpMethod:"GET",responses:{200:{bodyMapper:LocationListResult},default:{bodyMapper:CloudError}},queryParameters:[apiVersion,includeExtendedLocations],urlParameters:[$host,subscriptionId],headerParameters:[accept],serializer:serializer$2},getOperationSpec={path:"/subscriptions/{subscriptionId}",httpMethod:"GET",responses:{200:{bodyMapper:Subscription},default:{bodyMapper:CloudError}},queryParameters:[apiVersion],urlParameters:[$host,subscriptionId],headerParameters:[accept],serializer:serializer$2},listOperationSpec$1={path:"/subscriptions",httpMethod:"GET",responses:{200:{bodyMapper:SubscriptionListResult},default:{bodyMapper:CloudError}},queryParameters:[apiVersion],urlParameters:[$host],headerParameters:[accept],serializer:serializer$2},listNextOperationSpec$1={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:SubscriptionListResult},default:{bodyMapper:CloudError}},queryParameters:[apiVersion],urlParameters:[$host,nextLink],headerParameters:[accept],serializer:serializer$2};class TenantsImpl{constructor(e){this.client=e}list(t){const e=this.listPagingAll(t);return{next(){return e.next()},[Symbol.asyncIterator](){return this},byPage:e=>{if(null!=e&&e.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return this.listPagingPage(t,e)}}}listPagingPage(n,r){return tslib.__asyncGenerator(this,arguments,function*(){let e,t=null==r?void 0:r.continuationToken;var a;for(t||(setContinuationToken(a=(e=yield tslib.__await(this._list(n))).value||[],t=e.nextLink),yield yield tslib.__await(a));t;){e=yield tslib.__await(this._listNext(t,n)),t=e.nextLink;var i=e.value||[];setContinuationToken(i,t),yield yield tslib.__await(i)}})}listPagingAll(r){return tslib.__asyncGenerator(this,arguments,function*(){var t,e;try{for(var a,i=tslib.__asyncValues(this.listPagingPage(r));!(a=yield tslib.__await(i.next())).done;){var n=a.value;yield tslib.__await(yield*tslib.__asyncDelegator(tslib.__asyncValues(n)))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=i.return)&&(yield tslib.__await(e.call(i)))}finally{if(t)throw t.error}}})}_list(e){return this.client.sendOperationRequest({options:e},listOperationSpec)}_listNext(e,t){return this.client.sendOperationRequest({nextLink:e,options:t},listNextOperationSpec)}}const serializer$1=coreClient__namespace.createSerializer(Mappers,!1),listOperationSpec={path:"/tenants",httpMethod:"GET",responses:{200:{bodyMapper:TenantListResult},default:{bodyMapper:CloudError}},queryParameters:[apiVersion],urlParameters:[$host],headerParameters:[accept],serializer:serializer$1},listNextOperationSpec={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:TenantListResult},default:{bodyMapper:CloudError}},queryParameters:[apiVersion],urlParameters:[$host,nextLink],headerParameters:[accept],serializer:serializer$1};class SubscriptionClient extends coreClient__namespace.ServiceClient{constructor(e,t){if(void 0===e)throw new Error("'credentials' cannot be null");var a,i="azsdk-js-arm-resources-subscriptions/2.0.2",i=(t=t||{}).userAgentOptions&&t.userAgentOptions.userAgentPrefix?t.userAgentOptions.userAgentPrefix+" "+i:i,i=Object.assign(Object.assign(Object.assign({},{requestContentType:"application/json; charset=utf-8",credential:e}),t),{userAgentOptions:{userAgentPrefix:i},endpoint:null!=(i=null!=(i=t.endpoint)?i:t.baseUri)?i:"https://management.azure.com"});super(i);let n=!1;null!=t&&t.pipeline&&0<t.pipeline.getOrderedPolicies().length&&(a=t.pipeline.getOrderedPolicies(),n=a.some(e=>e.name===coreRestPipeline__namespace.bearerTokenAuthenticationPolicyName)),t&&t.pipeline&&0!=t.pipeline.getOrderedPolicies().length&&n||(this.pipeline.removePolicy({name:coreRestPipeline__namespace.bearerTokenAuthenticationPolicyName}),this.pipeline.addPolicy(coreRestPipeline__namespace.bearerTokenAuthenticationPolicy({credential:e,scopes:null!=(a=i.credentialScopes)?a:i.endpoint+"/.default",challengeCallbacks:{authorizeRequestOnChallenge:coreClient__namespace.authorizeRequestOnClaimChallenge}}))),this.$host=t.$host||"https://management.azure.com",this.apiVersion=t.apiVersion||"2021-01-01",this.subscriptions=new SubscriptionsImpl(this),this.tenants=new TenantsImpl(this),this.addCustomApiVersionPolicy(t.apiVersion)}addCustomApiVersionPolicy(n){n&&this.pipeline.addPolicy({name:"CustomApiVersionPolicy",sendRequest(a,i){return tslib.__awaiter(this,void 0,void 0,function*(){var e,t=a.url.split("?");return 1<t.length&&(e=t[1].split("&").map(e=>-1<e.indexOf("api-version")?"api-version="+n:e),a.url=t[0]+"?"+e.join("&")),i(a)})}})}checkResourceName(e){return this.sendOperationRequest({options:e},checkResourceNameOperationSpec)}}const serializer=coreClient__namespace.createSerializer(Mappers,!1),checkResourceNameOperationSpec={path:"/providers/Microsoft.Resources/checkResourceName",httpMethod:"POST",responses:{200:{bodyMapper:CheckResourceNameResult},default:{bodyMapper:CloudError}},requestBody:resourceNameDefinition,queryParameters:[apiVersion],urlParameters:[$host],headerParameters:[accept,contentType],mediaType:"json",serializer:serializer};exports.SubscriptionClient=SubscriptionClient,exports.getContinuationToken=getContinuationToken;